<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
</head>
<body>
    <h2>簡単な計算機</h2>
    <label for="num1">数値1:</label>
    <input id="num1" type="number"/>
    <label for="num2">数値2:</label>
    <input id="num2" type="number"/>
    <label for="operation">演算:</label>
    <select id="operation">
        <option value="add">足し算 (+)</option>
        <option value="subtract">引き算 (-)</option>
        <option value="multiply">掛け算 (×)</option>
        <option value="divide">割り算 (÷)</option>
    </select>
    <button py-click="calculate()" class="py-button">計算</button>
    <div id="result"></div>
    <py-script>
        from js import document

        def calculate():
            # 入力値を取得
            num1 = float(document.getElementById("num1").value)
            num2 = float(document.getElementById("num2").value)
            operation = document.getElementById("operation").value

            # 演算を実行
            if operation == "add":
                result = num1 + num2
            elif operation == "subtract":
                result = num1 - num2
            elif operation == "multiply":
                result = num1 * num2
            elif operation == "divide":
                if num2 != 0:
                    result = num1 / num2
                else:
                    result = "エラー: 0で割ることはできません"
            else:
                result = "無効な演算"

            # 結果を表示
            document.getElementById("result").innerHTML = f"計算結果: {result}"
    </py-script>
</body>
</html>
